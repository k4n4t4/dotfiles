#!/bin/sh
set -eu

printf "#[fg=#444444,bg=#222222,nobold,nounderscore,noitalics]î‚²#[fg=#eeeeee,bg=#444444,bold]"

printf "#{?client_prefix,"

printf "#[fg=#00aaee]#[bg=#444444]î‚²#[bg=#00aaee]#[fg=#eeeeee]"
printf "#{prefix}"
printf "#[fg=#00aaee]#[bg=#444444]î‚°#[fg=#eeeeee]"

printf ",}"


printf "#{?pane_synchronized,"

printf "#[fg=#00ee00]#[bg=#444444]î‚²#[bg=#00ee00]#[fg=#eeeeee]"
printf "sync"
printf "#[fg=#00ee00]#[bg=#444444]î‚°#[fg=#eeeeee]"

printf ",}"


printf "#{?pane_in_mode,"

printf "#[fg=#eeaa00]#[bg=#444444]î‚²#[bg=#eeaa00]#[fg=#eeeeee]"
printf "mode"
printf "#[fg=#eeaa00]#[bg=#444444]î‚°#[fg=#eeeeee]"

printf ",}"

bat_capacity="$(get_battery_info "capacity")"
bat_status="$(get_battery_info "status")"

case "$bat_status" in
    "Full" )
      bat_status_symbol="~"
      ;;
    "Charging" )
      bat_status_symbol="+"
      ;;
    "Discharging" )
      bat_status_symbol="-"
      ;;
    "Not charging" )
      bat_status_symbol="="
      ;;
    * )
      bat_status_symbol="?"
      ;;
esac

printf " "

printf "#[fg=#eeaeae]ðŸ”‹:$bat_status_symbol$bat_capacity%%"

printf "#[fg=#999999]|#[fg=#aeeeee]ðŸ–´ :"
get_mem_rate
printf "%%"

printf "#[fg=#999999]|#[fg=#aeaeee]$(date "+%H:%M:%S") "
